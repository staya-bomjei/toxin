(()=>{"use strict";var t,e={938:(t,e,s)=>{function i(t,e){if(t>10&&t<20)return e[2];switch(t%10){case 1:return e[0];case 2:case 3:case 4:return e[1];default:return e[2]}}function n(t,e="",s="ru"){return`${t.toLocaleString(s)}${e}`}function h(t,e){return Number(t.toFixed(e))}function o(t,e,s,i=12){if(e<0)throw new Error("Step can't be less than zero");const n=t-s;if(n%e==0)return t;let o=Math.trunc(n/e)*e+s;o=h(o,i);const a=t-o;let r=(Math.trunc(n/e)+1)*e+s;return r=h(r,i),a<r-t?o:r}s.d(e,{nK:()=>i,R3:()=>n,V9:()=>o})},691:(t,e,s)=>{var i=s(755),n=s.n(i);n()((()=>{n()(".js-header").each(((t,e)=>{const s=n()(e);new class{constructor(t){this.$component=t,this.$burgerButton=n()(".js-header__burger",t),this.$info=n()(".js-header__info",t)}init(){this._handleBurgerButtonClick=this._handleBurgerButtonClick.bind(this),this._attachEventHandlers()}_attachEventHandlers(){this.$burgerButton.on("click",this._handleBurgerButtonClick)}_handleBurgerButtonClick(){this.$burgerButton.toggleClass("header__burger_active"),this.$info.toggleClass("header__info_mobile-expanded")}}(s).init()}))})),s(729),s(177),s(623);var h=s(938);const o="range-slider__thumb_z-index_above",a="range-slider__thumb_z-index_below";n()((()=>{n()(".js-range-slider").each(((t,e)=>{const s=n()(e);new class{constructor(t){this.$component=t,this.postfix=t.attr("data-postfix"),this.min=Number(t.attr("data-min")),this.max=Number(t.attr("data-max")),this.step=Number(t.attr("data-step")),this.percentStep=this.step/(this.max-this.min)*100,this.$output=n()(".js-range-slider__output",t),this.$progress=n()(".js-range-slider__progress",t),this.$track=n()(".js-range-slider__track",t)}init(){const t=Array.from(n()(".js-range-slider__thumb",this.$component));[this.$leftThumb,this.$rightThumb]=t.map((t=>n()(t)));const e=Number(this.$component.attr("data-from")),s=Number(this.$component.attr("data-to"));this._setPosition(this._valueToPosition(e),!0),this._setPosition(this._valueToPosition(s),!1),this._update(),this._handleThumbPointerDown=this._handleThumbPointerDown.bind(this),this._attachEventHandlers()}_attachEventHandlers(){this.$leftThumb.on("pointerdown",this._handleThumbPointerDown),this.$rightThumb.on("pointerdown",this._handleThumbPointerDown),this.$leftThumb[0].ondragstart=null,this.$rightThumb[0].ondragstart=null}_handleThumbPointerDown(t){const e=t.target,s=this._isLeftThumb(e);this._moveThumbTo(s,t);const i=t=>{this._moveThumbTo(s,t)},n=()=>{document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",n)};document.addEventListener("pointermove",i),document.addEventListener("pointerup",n)}_moveThumbTo(t,e){const s=this._getPosition(!0),i=this._getPosition(!1),n=t?s:i,h=t?i:s;let o=this.calcNearestPosition(e);const a=(t&&o>h||!t&&o<h)&&n!==h;a&&(o=h),(a||t?o<=h:o>=h)&&o!==n&&(this._setPosition(o,t),this._update())}calcNearestPosition(t){const[e]=this.$track,s=e.getBoundingClientRect();let i=(t.clientX-s.left)/s.width*100;return i=Math.max(i,0),i=Math.min(i,100),(0,h.V9)(i,this.percentStep,0)}_update(){this._updateZIndexes(),this._updateOutput(),this._updateProgress()}_updateZIndexes(){this.positionRight===this.positionLeft&&(100===this.positionLeft?(this.$leftThumb.addClass(o),this.$rightThumb.addClass(a)):0===this.positionLeft&&(this.$leftThumb.addClass(a),this.$rightThumb.addClass(o)))}_updateOutput(){const t=this._getValue(!0),e=this._getValue(!1),s=(0,h.R3)(t,this.postfix),i=(0,h.R3)(e,this.postfix);this.$output.html(`${s} - ${i}`)}_updateProgress(){const t=this._getPosition(!0),e=this._getPosition(!1),s=Math.abs(t-e);this.$progress.css("width",`${s}%`),this.$progress.css("left",`${t}%`)}_isLeftThumb(t){return t===this.$leftThumb[0]}_getValue(t){return this._positionToValue(this._getPosition(t))}_getPosition(t){return t?this.positionLeft:this.positionRight}_setPosition(t,e){e?(this.positionLeft=t,this.$leftThumb.css("left",`${t}%`)):(this.positionRight=t,this.$rightThumb.css("left",`${t}%`))}_positionToValue(t){return Math.round((this.max-this.min)*t/100+this.min)}_valueToPosition(t){return(t-this.min)/(this.max-this.min)*100}_setZIndexes(t,e){t===e&&(0===t?(this.$leftThumb.addClass(a),this.$rightThumb.addClass(o)):100===t&&(this.$leftThumb.addClass(o),this.$rightThumb.addClass(a)))}}(s).init()}))}));n()((()=>{n()(".js-checkbox-list").each(((t,e)=>{const s=n()(e);new class{constructor(t){this.$component=t,this.$button=n()(".js-checkbox-list__button",t)}init(){this._handleButtonClick=this._handleButtonClick.bind(this),this._attachEventHandlers()}_attachEventHandlers(){this.$button.on("click",this._handleButtonClick)}_handleButtonClick(){this.$component.toggleClass("checkbox-list_open")}}(s).init()}))})),s(291);n()((()=>{n()(".js-room-thumbnail").each(((t,e)=>{const s=n()(e);new class{constructor(t){this.$component=t,this.selected=Number(t.attr("data-selected")),this.$prev=n()(".js-room-thumbnail__prev",t),this.$next=n()(".js-room-thumbnail__next",t)}init(){this.images=Array.from(n()(".js-room-thumbnail__image",this.$component)).map((t=>n()(t))),this.buttons=Array.from(n()(".js-room-thumbnail__button",this.$component)).map((t=>n()(t))),this._selectImage(this.selected),this._handlePrevClick=this._handlePrevClick.bind(this),this._handleNextClick=this._handleNextClick.bind(this),this._handleButtonClick=this._handleButtonClick.bind(this),this._attachEventHandlers()}_attachEventHandlers(){this.$prev.on("click",this._handlePrevClick),this.$next.on("click",this._handleNextClick),this.buttons.forEach((t=>{t.on("click",this._handleButtonClick)}))}_handlePrevClick(){const t=0===this.selected?this.images.length-1:this.selected-1;this._selectImage(t)}_handleNextClick(){const t=(this.selected+1)%this.images.length;this._selectImage(t)}_handleButtonClick({target:t}){const e=this._getButtonIndex(t);this._selectImage(e)}_getButtonIndex(t){return this.buttons.findIndex((e=>e.is(t)))}_selectImage(t){this._setSelected(this.images,t,"room-thumbnail__image_selected"),this._setSelected(this.buttons,t,"room-thumbnail__button_selected"),this.selected=t}_setSelected(t,e,s){0!==t.length&&(t[this.selected].removeClass(s),t[e].addClass(s))}}(s).init()}))}));n()((()=>{n()(".js-pagination").each(((t,e)=>{const s=n()(e);new class{constructor(t){this.$component=t,this.itemsCounter=Number(t.attr("data-items-counter")),this.itemsPerPage=Number(t.attr("data-items-per-page")),this.pagesCounter=Math.ceil(this.itemsCounter/this.itemsPerPage),this.postfix=t.attr("data-postfix"),this.buttons=Array.from(n()(".js-pagination__number",t)).map((t=>n()(t))),this.$prev=n()(".js-pagination__prev",t),this.$next=n()(".js-pagination__next",t),this.$text=n()(".js-pagination__text",t)}init(){this.pageNumber=0;const t=Number(this.$component.attr("data-init-state"));this._updateState(t),this._handlePrevButtonClick=this._handlePrevButtonClick.bind(this),this._handleNextButtonClick=this._handleNextButtonClick.bind(this),this._handleNumberButtonClick=this._handleNumberButtonClick.bind(this),this._attachEventHandlers()}_attachEventHandlers(){this.$prev.on("click",this._handlePrevButtonClick),this.$next.on("click",this._handleNextButtonClick),this.buttons.forEach((t=>{t.on("click",this._handleNumberButtonClick)}))}_handleNumberButtonClick(t){const e=n()(t.target).html();"..."!==e&&this._updateState(Number(e))}_handlePrevButtonClick(){this._updateState(this.pageNumber-1)}_handleNextButtonClick(){this._updateState(this.pageNumber+1)}_setButtons(t){this.buttons.forEach(((e,s)=>{s<t.length?(e.html(t[s]),e.show()):e.hide()}))}_toggleButtonSelection(t){const e=this.buttons.find((e=>e.html()===String(t)));e&&e.toggleClass("pagination__number_current")}_updateButtons(t){this._toggleButtonSelection(this.pageNumber),this._setButtons(this._calcButtonsTexts(t)),this._toggleButtonSelection(t),1===t?(this.$prev.hide(),this.$next.show()):t===this.pagesCounter?(this.$next.hide(),this.$prev.show()):(this.$next.show(),this.$prev.show()),this.pageNumber=t}_updateText(t){const e=(t-1)*this.itemsPerPage+1,s=Math.min(e+this.itemsPerPage-1,this.itemsCounter),i=Math.trunc(Math.log10(this.itemsCounter));this.$text.html(`${e} – ${s} из ${10**i}+ ${this.postfix}`)}_updateState(t){this.pageNumber!==t&&(this._updateButtons(t),this._updateText(t))}_calcButtonsTexts(t,e=1){const s=[],i=2*e+1;if(t-e<=1)for(let t=1;t<=this.pagesCounter&&t<=i;t+=1)s.push(t);else if(t+e>=this.pagesCounter)for(let t=this.pagesCounter;t>=1&&t>this.pagesCounter-i;t-=1)s.unshift(t);else for(let i=t-e;i<=t+e;i+=1)s.push(i);if(this.pagesCounter-s[s.length-1]>2)s.push("...",this.pagesCounter);else for(let t=s[s.length-1]+1;t<=this.pagesCounter;t+=1)s.push(t);if(s[0]-1>2)s.unshift(1,"...");else for(let t=s[0]-1;t>=1;t-=1)s.unshift(t);return s.map((t=>String(t)))}}(s).init()}))}))}},s={};function i(t){var n=s[t];if(void 0!==n)return n.exports;var h=s[t]={exports:{}};return e[t].call(h.exports,h,h.exports,i),h.exports}i.m=e,t=[],i.O=(e,s,n,h)=>{if(!s){var o=1/0;for(l=0;l<t.length;l++){for(var[s,n,h]=t[l],a=!0,r=0;r<s.length;r++)(!1&h||o>=h)&&Object.keys(i.O).every((t=>i.O[t](s[r])))?s.splice(r--,1):(a=!1,h<o&&(o=h));if(a){t.splice(l--,1);var u=n();void 0!==u&&(e=u)}}return e}h=h||0;for(var l=t.length;l>0&&t[l-1][2]>h;l--)t[l]=t[l-1];t[l]=[s,n,h]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={769:0,427:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var n,h,[o,a,r]=s,u=0;if(o.some((e=>0!==t[e]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(r)var l=r(i)}for(e&&e(s);u<o.length;u++)h=o[u],i.o(t,h)&&t[h]&&t[h][0](),t[o[u]]=0;return i.O(l)},s=self.webpackChunktoxin=self.webpackChunktoxin||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var n=i.O(void 0,[815,590,326,427],(()=>i(691)));n=i.O(n)})();