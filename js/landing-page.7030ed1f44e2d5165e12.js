(()=>{"use strict";var t,e={74:(t,e,n)=>{var s=n(755),i=n.n(s);const a=".js-menu__item",o="menu__item_active";class r{constructor(t){this.$component=t,this.$items=t.children(),this.items=Array.from(this.$items)}init(){this._handleItemMouseDown=this._handleItemMouseDown.bind(this),this._handleOutOfComponentMouseDown=this._handleOutOfComponentMouseDown.bind(this),this._attachEventHandlers()}_attachEventHandlers(){this.$items.each(((t,e)=>{i()(e).on("mousedown",this._handleItemMouseDown)})),i()(document).on("mousedown",this._handleOutOfComponentMouseDown)}_handleItemMouseDown({target:t}){const e=i()(t).closest(a),n=e.hasClass(o);this._isTopmostItem(e)&&this._setAllItemsInactive(),n?r.setItemInactive(e):e.addClass(o)}_handleOutOfComponentMouseDown({target:t}){const{$component:e}=this;0===e.has(t).length&&this._setAllItemsInactive()}_isTopmostItem(t){const[e]=t;return this.items.some((t=>t===e))}_setAllItemsInactive(){this.$items.each(((t,e)=>{const n=i()(e);r.setItemInactive(n)}))}static setItemInactive(t){t.removeClass(o),i()(a,t).removeClass(o)}}const l=r;i()((()=>{i()(".js-menu").each(((t,e)=>{const n=i()(e);new l(n).init()}))}));i()((()=>{i()(".js-header").each(((t,e)=>{const n=i()(e);new class{constructor(t){this.$component=t,this.$burgerButton=i()(".js-header__burger",t),this.$info=i()(".js-header__info",t)}init(){this._handleBurgerButtonClick=this._handleBurgerButtonClick.bind(this),this._attachEventHandlers()}_attachEventHandlers(){const{$burgerButton:t}=this;t.on("click",this._handleBurgerButtonClick)}_handleBurgerButtonClick(){const{$burgerButton:t,$info:e}=this;t.toggleClass("header__burger_active"),e.toggleClass("header__info_mobile-expanded")}}(n).init()}))}));var c=n(382),h=n.n(c);i()((()=>{i()(".js-text-field__input").each(((t,e)=>{const n=i()(e),s=n.attr("placeholder");new class{constructor({$input:t,inputFormat:e,placeholder:n}){const s={alias:"datetime",inputFormat:e,placeholder:n};this.outsideInputmask=new(h())(s),this.$input=t}init(){const{outsideInputmask:t,$input:e}=this;t.mask(e)}}({$input:n,inputFormat:"dd.mm.yyyy",placeholder:s}).init()}))}));const d="backgrounds__image_visible",u="backgrounds__image_animation_fade";i()((()=>{i()(".js-backgrounds").each(((t,e)=>{const n=i()(e);new class{constructor(t){this.$component=t,this.delay=Number(t.attr("data-delay")),this.delayMS=1e3*this.delay,this.duration=Number(t.attr("data-duration")),this.durationMS=1e3*this.duration}init(){const t=i()(".js-backgrounds__image",this.$component);this.images=Array.from(t).map((t=>i()(t))),this._setImageVisibility(0,!0),this._setImagesAnimationDuration(),t.length>1&&this._startAnimationLoop()}async _startAnimationLoop(){const{images:{length:t},delayMS:e}=this;this.imageIndex=0,this.nextImageIndex=1,setInterval((async()=>{const{nextImageIndex:e,imageIndex:n}=this;this._setImageZIndex(n,-1),this._setImageZIndex(e,-2),this._setImageVisibility(e,!0),this._playImageAnimation(n),await this._stopImageAnimation(n),this.imageIndex=e,this.nextImageIndex=(e+1)%t}),e)}_setImageVisibility(t,e){const{images:n}=this;e?n[t].addClass(d):n[t].removeClass(d)}_setImagesAnimationDuration(){const{images:t,duration:e}=this;t.forEach((t=>{t.css("animation-duration",`${e}s`)}))}_setImageZIndex(t,e){const{images:n}=this;n[t].css("z-index",e)}_playImageAnimation(t){const{images:e}=this;e[t].addClass(u)}async _stopImageAnimation(t){const{images:e,durationMS:n}=this;setTimeout((()=>{e[t].removeClass(u),e[t].removeClass(d)}),n)}}(n).init()}))}));const _=".js-dropdown__button-minus",m=".js-dropdown__counter",p="dropdown_open",g="dropdown__button-minus_active",C="data-row-countables",b=class{constructor(t){this.$component=t,this.valueChanged=t.attr("data-value-changed"),this.$inputBox=i()(".js-dropdown__input-box",t),this.$content=i()(".js-dropdown__content",t)}init(){this._handleOutOfComponentClick=this._handleOutOfComponentClick.bind(this),this._handleInputBoxClick=this._handleInputBoxClick.bind(this),this._attachEventHandlers()}_attachEventHandlers(){const{$inputBox:t}=this;i()(document).on("click",this._handleOutOfComponentClick),t.on("click",this._handleInputBoxClick)}_handleOutOfComponentClick({target:t}){const{$component:e}=this;0===e.has(t).length&&e.removeClass(p)}_handleInputBoxClick(){const{$component:t}=this;t.toggleClass(p)}_triggerValueChanged(){const{valueChanged:t}=this;t&&i()(document).trigger(t)}};function k(t,e){if(t>10&&t<20)return e[2];switch(t%10){case 1:return e[0];case 2:case 3:case 4:return e[1];default:return e[2]}}const $=class extends b{constructor(t){super(t),this.maxLen=Number(t.attr("data-max-len")),this.hasControls=void 0!==t.has("data-has-controls"),this.$text=i()(".js-dropdown__text",t),this.rows=this._getRows()}init(){const{hasControls:t}=this;t&&this._initControls(),this._handleClearButtonClick=this._handleClearButtonClick.bind(this),this._handleAcceptButtonClick=this._handleAcceptButtonClick.bind(this),this._handleMinusClick=this._handleMinusClick.bind(this),this._handlePlusClick=this._handlePlusClick.bind(this),super.init(),this._update()}_initControls(){const{$component:t}=this;this.$clear=t.find(".js-dropdown__clear-button"),this.$accept=t.find(".js-dropdown__accept-button")}_attachEventHandlers(){super._attachEventHandlers();const{hasControls:t,rows:e,$clear:n,$accept:s}=this;t&&(n.on("click",this._handleClearButtonClick),s.on("click",this._handleAcceptButtonClick)),e.forEach((t=>{t.$minus.on("click",this._handleMinusClick),t.$plus.on("click",this._handlePlusClick)}))}_handleClearButtonClick(){const{rows:t}=this;t.forEach((t=>{t.$minus.removeClass(g),t.$counter.html(0)})),this._update()}_handleAcceptButtonClick(){const{$component:t}=this;t.removeClass(p)}_handleMinusClick({target:t}){const e=i()(t),n=e.siblings(m),s=Number(n.html());0!==s&&(1===s&&e.removeClass(g),n.html(s-1),this._update())}_handlePlusClick({target:t}){const e=i()(t),n=e.siblings(_),s=e.siblings(m),a=Number(s.html());0===a&&n.addClass(g),s.html(a+1),this._update()}_setText(t){const{maxLen:e,$text:n}=this;let s=t.substring(0,e);t.length>=e&&(s+="..."),n.val(s)}_getRows(){const{$component:t}=this;return Array.from(i()(".js-dropdown__row",t)).map((t=>{const e=i()(t),n={$minus:e.find(_),$counter:e.find(m),$plus:e.find(".js-dropdown__button-plus"),countables:null};return void 0!==e.attr(C)&&(n.countables=JSON.parse(e.attr(C))),n}))}_areAllCountersZero(){const{rows:t}=this;return t.every((t=>0===Number(t.$counter.html())))}_update(){this._updateText(),this._updateValue(),this._updateClearButtonVisibility(),this._triggerValueChanged()}_updateText(){this._areAllCountersZero()?this._setText(""):this._setText(this._calcDropdownText())}_updateValue(){const{$component:t}=this;t.attr("data-value",this._calcDropdownValue())}_updateClearButtonVisibility(){const{$clear:t}=this;this._areAllCountersZero()?t.hide():t.show()}_calcDropdownValue(){const{rows:t}=this;return t.map((t=>Number(t.$counter.html())))}_calcDropdownText(){const{rows:t}=this;return t.map((t=>{const e=Number(t.$counter.html());return 0===e?"":`${e} ${k(e,t.countables)}`})).filter((t=>""!==t)).join(", ")}},v=class extends ${constructor(t){super(t),this.countables=JSON.parse(t.attr("data-countables"))}_sumAllDropdownCountables(){return this.rows.filter((t=>null===t.countables)).reduce(((t,e)=>t+Number(e.$counter.html())),0)}_calcDropdownText(){const{rows:t,countables:e}=this,n=this._sumAllDropdownCountables();return[n?`${n} ${k(n,e)}`:"",...t.filter((t=>null!==t.countables)).map((t=>{const e=Number(t.$counter.html());return 0===e?"":`${e} ${k(e,t.countables)}`}))].filter((t=>""!==t)).join(", ")}};i()((()=>{i()(".js-dropdown").each(((t,e)=>{const n=i()(e);(function(t,e){switch(t){case"counter":return new $(e);case"summator":return new v(e);default:return new b(e)}})(n.attr("data-type"),n).init()}))}));var f=n(808);const x={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1};class w{constructor(t){this.$component=t.$component,this.texts=t.texts,this.isSplit=t.isSplit,this.triggerValueChanged=t.triggerValueChanged,this.onAcceptButtonClick=t.onAcceptButtonClick,this.DATE_FROM=t.DATE_FROM,this.DATE_TO=t.DATE_TO;const{range:e,altField:n,$content:s}=t,i=this._createAirOptions({range:e,altField:n}),a=new f.Z(s[0],i);return this.$clear=w.findClearButton(a),this._updateClearButtonVisibility(a),w.fixButtonsType(a),a}_createAirOptions(t){return{...t,inline:!0,locale:x,altFieldDateFormat:"d MMM",prevHtml:"",nextHtml:"",multipleDatesSeparator:" - ",dateFormat:"d MMM",moveToOtherMonthsOnSelect:!1,navTitles:{days:"MMMM yyyy"},onSelect:t=>this._onCellSelect(t),buttons:[{content:"очистить",className:"clear",onClick:t=>this._onClearCalendarClick(t)},{content:"применить",className:"accept",onClick:()=>this.onAcceptButtonClick()}]}}_setState(t,e){this._setTexts(t,e),this._setValues(t,e)}_setValues(t,e){const{$component:n,DATE_FROM:s,DATE_TO:i}=this,a=w.dateToString(t),o=w.dateToString(e);n.attr(s,a),n.attr(i,o)}_setTexts(t,e){const{isSplit:n,texts:s}=this;if(!n)return;const a=w.dateToString(t,"ru"),o=w.dateToString(e,"ru");i()(s[0]).val(a),i()(s[1]).val(o)}_onCellSelect({date:t,datepicker:e}){const[n,s]=e.selectedDates,i=1===e.selectedDates.length,a=2===e.selectedDates.length;i?(w.fixFocusDisplay(t,e),this._setState(n,"")):a&&this._setState(n,s),this._update(e)}_onClearCalendarClick(t){const{isSplit:e,texts:n}=this;t.clear(),e&&i()(n[1]).val("")}_update(t){this._updateClearButtonVisibility(t),this.triggerValueChanged()}_updateClearButtonVisibility(t){const{$clear:e}=this;0!==t.selectedDates.length?e.show():e.hide()}static findClearButton(t){const e=i()("button",t.$buttons);return i()(e[0])}static fixButtonsType(t){i()("button",t.$buttons).attr("type","button")}static fixFocusDisplay(t,e){const n=`.air-datepicker-cell[data-year=${t.getFullYear()}][data-month=${t.getMonth()}][data-date=${t.getDate()}]`,s=i()(n,e.$datepicker);s.hasClass("-focus-")&&(s.addClass("-range-from-"),s.addClass("-range-to-"))}static dateToString(t,e="en"){return"string"==typeof t?t:t.toLocaleDateString(e)}}const y=w,I="datepicker_open";i()((()=>{i()(".js-datepicker").each(((t,e)=>{const n=i()(e);new class{constructor(t){this.$component=t,this.valueChanged=t.attr("data-value-changed"),this.$inputs=i()(".js-datepicker__inputs",t),this.$content=i()(".js-datepicker__content",t),this.texts=i()(".js-datepicker__text",t),this.isSplit=void 0!==t.attr("data-is-split"),this.isRange=void 0!==t.attr("data-is-range"),this.datepicker=this._createCalendar()}init(){const t=JSON.parse(this.$component.attr("data-selected")),{datepicker:e}=this;e.selectDate(t),this._handleOutOfComponentClick=this._handleOutOfComponentClick.bind(this),this._handleInputsClick=this._handleInputsClick.bind(this),this._attachEventHandlers()}_attachEventHandlers(){const{$inputs:t}=this;i()(document).on("click",this._handleOutOfComponentClick),t.on("click",this._handleInputsClick)}_handleAcceptButtonClick(){const{$component:t}=this;t.removeClass(I)}_handleOutOfComponentClick({target:t}){const{$component:e}=this;0===e.has(t).length&&e.removeClass(I)}_handleInputsClick({target:t}){const{$component:e}=this;0!==i()(t).closest(".js-datepicker__input-box").length&&e.toggleClass(I)}_triggerValueChanged(){const{valueChanged:t}=this;t&&i()(document).trigger(t)}_createCalendar(){const{$component:t,$content:e,texts:n,isSplit:s,isRange:i}=this,a={$component:t,$content:e,texts:n,isSplit:s,range:i,triggerValueChanged:()=>this._triggerValueChanged(),onAcceptButtonClick:()=>this._handleAcceptButtonClick(),altField:n[0],DATE_FROM:"data-date-from",DATE_TO:"data-date-to"};return new y(a)}}(n).init()}))}))}},n={};function s(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return e[t].call(a.exports,a,a.exports,s),a.exports}s.m=e,t=[],s.O=(e,n,i,a)=>{if(!n){var o=1/0;for(h=0;h<t.length;h++){for(var[n,i,a]=t[h],r=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((t=>s.O[t](n[l])))?n.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(h--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[n,i,a]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={781:0};s.O.j=e=>0===t[e];var e=(e,n)=>{var i,a,[o,r,l]=n,c=0;if(o.some((e=>0!==t[e]))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var h=l(s)}for(e&&e(n);c<o.length;c++)a=o[c],s.o(t,a)&&t[a]&&t[a][0](),t[o[c]]=0;return s.O(h)},n=self.webpackChunktoxin=self.webpackChunktoxin||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=s.O(void 0,[815,590],(()=>s(74)));i=s.O(i)})();