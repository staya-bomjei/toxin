"use strict";(self.webpackChunktoxin=self.webpackChunktoxin||[]).push([[383],{622:(t,e,s)=>{var n=s(755),i=s.n(n);const a="checkbox-list_open";i()((()=>{i()(".js-checkbox-list").each(((t,e)=>{const s=i()(e);new class{constructor(t){this.$component=t,this.$button=i()(".js-checkbox-list__button",t),this.$list=i()(".js-checkbox-list__list",t)}init(){this.$component.hasClass("checkbox-list_expanded")||this.$list.css("z-index",Number(this.$list.css("z-index"))+1)}attachEventHandlers(){i()(document).on("click",(t=>this.handleOutOfComponentClick(t))),this.$button.on("click",(()=>this.handleButtonClick()))}handleButtonClick(){this.$component.toggleClass(a)}handleOutOfComponentClick({target:t}){0===this.$component.has(t).length&&this.$component.removeClass(a)}render(){this.init(),this.attachEventHandlers()}}(s).render()}))}))},888:(t,e,s)=>{s.d(e,{Z:()=>l});var n=s(755),i=s.n(n),a=s(938),o=s(651),r=s(96);class h extends o.Z{constructor(t){super(t),this.maxLen=Number(t.attr(r.kG)),this.hasControls=void 0!==t.has(r.Lk),this.$text=i()(r.qW,this.$component),this.rows=this.getRows()}init(){super.init(),this.hasControls&&this.initControls(),this.update()}initControls(){this.$clear=this.$component.find(r.oi),this.$accept=this.$component.find(r.xJ)}attachEventHandlers(){super.attachEventHandlers(),this.hasControls&&(this.$clear.on("click",(()=>this.handleClearButtonClick())),this.$accept.on("click",(t=>this.handleAcceptButtonClick(t)))),this.rows.forEach((t=>{t.$minus.on("click",(()=>this.handleMinusClick(t.$minus,t.$counter))),t.$plus.on("click",(()=>this.handlePlusClick(t.$minus,t.$counter)))}))}handleClearButtonClick(){this.rows.forEach((t=>{t.$minus.removeClass(r.wz),t.$counter.html(0)})),this.update()}handleAcceptButtonClick(){this.$component.removeClass(r.M2)}handleMinusClick(t,e){const s=Number(e.html());0!==s&&(1===s&&t.removeClass(r.wz),e.html(s-1),this.update())}handlePlusClick(t,e){const s=Number(e.html());0===s&&t.addClass(r.wz),e.html(s+1),this.update()}setText(t){let e=t.substring(0,this.maxLen);t.length>=this.maxLen&&(e+="..."),this.$text.val(e)}getRows(){return Array.from(i()(r.jk,this.$component)).map((t=>{const e=i()(t),s={$minus:e.find(r.fP),$counter:e.find(r.sH),$plus:e.find(r.S8),countables:null};return void 0!==e.attr(r.gT)&&(s.countables=JSON.parse(e.attr(r.gT))),s}))}areAllCountersZero(){return this.rows.every((t=>0===Number(t.$counter.html())))}update(){this.updateText(),this.updateValue(),this.updateClearButtonVisibility(),this.triggerValueChanged()}updateText(){this.areAllCountersZero()?this.setText(""):this.setText(this.calcDropdownText())}updateValue(){this.$component.attr(r.o9,this.calcDropdownValue())}updateClearButtonVisibility(){this.areAllCountersZero()?this.$clear.hide():this.$clear.show()}calcDropdownValue(){return this.rows.map((t=>Number(t.$counter.html())))}calcDropdownText(){return this.rows.map((t=>{const e=Number(t.$counter.html());return 0===e?"":`${e} ${(0,a.nK)(e,t.countables)}`})).filter((t=>""!==t)).join(", ")}render(){this.init(),this.attachEventHandlers()}}const l=h},822:(t,e,s)=>{s.d(e,{Z:()=>l});var n=s(755),i=s.n(n),a=s(563),o=s(651),r=s(96);class h extends o.Z{constructor(t){super(t),this.texts=i()(r.qW,this.$component),this.isSplit=void 0!==this.$component.attr(r.xD),this.isRange=void 0!==this.$component.attr(r.P4),this.datepicker=this.createCalendar()}init(){super.init();const t=JSON.parse(this.$component.attr(r.hd));this.datepicker.selectDate(t)}handleAcceptButtonClick(){this.$component.removeClass(r.M2)}createCalendar(){const t={$component:this.$component,$content:this.$content,texts:this.texts,isDatepicker:this.isDatepicker,isSplit:this.isSplit,range:this.isRange,triggerValueChanged:()=>this.triggerValueChanged(),onAcceptButtonClick:()=>this.handleAcceptButtonClick(),altField:this.texts[0],DATE_FROM:r.q8,DATE_TO:r.LX};return new a.Z(t)}}const l=h},651:(t,e,s)=>{s.d(e,{Z:()=>o});var n=s(755),i=s.n(n),a=s(96);const o=class{constructor(t){this.$component=t,this.valueChanged=t.attr(a.KI),this.$inputs=i()(a.BM,t),this.$content=i()(a.kL,t)}init(){this.$component.hasClass(a.yH)||this.$content.css("z-index",Number(this.$content.css("z-index"))+1)}attachEventHandlers(){i()(document).on("click",(t=>this.handleOutOfComponentClick(t))),this.$inputs.on("click",(t=>this.handleInputsClick(t)))}handleOutOfComponentClick({target:t}){0===this.$component.has(t).length&&this.$component.removeClass(a.M2)}handleInputsClick({target:t}){0!==i()(t).closest(a.tQ).length&&this.$component.toggleClass(a.M2)}triggerValueChanged(){this.valueChanged&&i()(document).trigger(this.valueChanged)}render(){this.init(),this.attachEventHandlers()}}},575:(t,e,s)=>{s.d(e,{Z:()=>r});var n=s(938),i=s(888),a=s(96);class o extends i.Z{constructor(t){super(t),this.countables=JSON.parse(this.$component.attr(a.Je))}sumAllDropdownCountables(){return this.rows.filter((t=>null===t.countables)).reduce(((t,e)=>t+Number(e.$counter.html())),0)}calcDropdownText(){const t=this.sumAllDropdownCountables();return[t?`${t} ${(0,n.nK)(t,this.countables)}`:"",...this.rows.filter((t=>null!==t.countables)).map((t=>{const e=Number(t.$counter.html());return 0===e?"":`${e} ${(0,n.nK)(e,t.countables)}`}))].filter((t=>""!==t)).join(", ")}}const r=o},96:(t,e,s)=>{s.d(e,{qt:()=>n,BM:()=>i,kL:()=>a,qW:()=>o,oi:()=>r,xJ:()=>h,tQ:()=>l,jk:()=>c,fP:()=>u,sH:()=>d,S8:()=>p,M2:()=>m,yH:()=>$,wz:()=>g,KI:()=>C,o9:()=>b,kG:()=>k,Lk:()=>x,gT:()=>f,Je:()=>w,xD:()=>v,P4:()=>_,hd:()=>T,q8:()=>S,LX:()=>y,wD:()=>B});const n=".js-dropdown",i=".js-dropdown__inputs",a=".js-dropdown__content",o=".js-dropdown__text",r=".js-dropdown__clear-button",h=".js-dropdown__accept-button",l=".js-dropdown__input-box",c=".js-dropdown__row",u=".js-dropdown__button-minus",d=".js-dropdown__counter",p=".js-dropdown__button-plus",m="dropdown_open",$="dropdown_expanded",g="dropdown__button-minus_active",C="data-value-changed",b="data-value",k="data-max-len",x="data-has-controls",f="data-row-countables",w="data-countables",v="data-is-split",_="data-is-range",T="data-selected",S="data-date-from",y="data-date-to",B="data-type"},177:(t,e,s)=>{var n=s(755),i=s.n(n),a=s(651),o=s(822),r=s(888),h=s(575),l=s(96);i()((()=>{i()(l.qt).each(((t,e)=>{const s=i()(e);(function(t,e){switch(t){case"datepicker":return new o.Z(e);case"counter":return new r.Z(e);case"summator":return new h.Z(e);default:return new a.Z(e)}})(s.attr(l.wD),s).render()}))}))},767:(t,e,s)=>{var n=s(755),i=s.n(n);i()((()=>{i()(".js-pagination").each(((t,e)=>{const s=i()(e);new class{constructor(t){this.$component=t,this.itemsCounter=Number(t.attr("data-items-counter")),this.itemsPerPage=Number(t.attr("data-items-per-page")),this.pagesCounter=Math.ceil(this.itemsCounter/this.itemsPerPage),this.postfix=t.attr("data-postfix"),this.buttons=Array.from(i()(".js-pagination__number",t)).map((t=>i()(t))),this.$prev=i()(".js-pagination__prev",t),this.$next=i()(".js-pagination__next",t),this.$text=i()(".js-pagination__text",t)}init(){this.pageNumber=0;const t=Number(this.$component.attr("data-init-state"));this.updateState(t)}attachEventHandlers(){this.$prev.on("click",(()=>this.handlePrevButtonClick())),this.$next.on("click",(()=>this.handleNextButtonClick())),this.buttons.forEach((t=>{t.on("click",(t=>this.handleNumberButtonClick(t)))}))}handleNumberButtonClick(t){const e=i()(t.target).html();"..."!==e&&this.updateState(Number(e))}handlePrevButtonClick(){this.updateState(this.pageNumber-1)}handleNextButtonClick(){this.updateState(this.pageNumber+1)}setButtons(t){this.buttons.forEach(((e,s)=>{s<t.length?(e.html(t[s]),e.show()):e.hide()}))}toggleButtonSelection(t){const e=this.buttons.find((e=>e.html()===String(t)));e&&e.toggleClass("pagination__number_current")}updateButtons(t){this.toggleButtonSelection(this.pageNumber),this.setButtons(this.calcButtonsTexts(t)),this.toggleButtonSelection(t),1===t?(this.$prev.hide(),this.$next.show()):t===this.pagesCounter?(this.$next.hide(),this.$prev.show()):(this.$next.show(),this.$prev.show()),this.pageNumber=t}updateText(t){const e=(t-1)*this.itemsPerPage+1,s=Math.min(e+this.itemsPerPage-1,this.itemsCounter),n=Math.trunc(Math.log10(this.itemsCounter));this.$text.html(`${e} – ${s} из ${10**n}+ ${this.postfix}`)}updateState(t){this.pageNumber!==t&&(this.updateButtons(t),this.updateText(t))}calcButtonsTexts(t,e=1){const s=[],n=2*e+1;if(t-e<=1)for(let t=1;t<=this.pagesCounter&&t<=n;t+=1)s.push(t);else if(t+e>=this.pagesCounter)for(let t=this.pagesCounter;t>=1&&t>this.pagesCounter-n;t-=1)s.unshift(t);else for(let n=t-e;n<=t+e;n+=1)s.push(n);if(this.pagesCounter-s[s.length-1]>2)s.push("...",this.pagesCounter);else for(let t=s[s.length-1]+1;t<=this.pagesCounter;t+=1)s.push(t);if(s[0]-1>2)s.unshift(1,"...");else for(let t=s[0]-1;t>=1;t-=1)s.unshift(t);return s.map((t=>String(t)))}render(){this.init(),this.attachEventHandlers()}}(s).render()}))}))},864:(t,e,s)=>{var n=s(755),i=s.n(n),a=s(938);const o="value";class r{constructor(t){this.$component=t,this.postfix=t.attr("data-postfix"),this.min=Number(t.attr("data-min")),this.max=Number(t.attr("data-max")),this.$output=i()(".js-range-slider__output",t),this.$track=i()(".js-range-slider__track-inner",t)}init(){const t=Array.from(i()(".js-range-slider__range",this.$component));[this.$range1,this.$range2]=t.map((t=>i()(t)));const e=Array.from(i()(".js-range-slider__thumb",this.$component));[this.$thumb1,this.$thumb2]=e.map((t=>i()(t))),this.setState(this.$range1.attr(o),this.$range2.attr(o)),this.updateOutput()}attachEventHandlers(){this.$range1.on("input",(t=>this.handleComponentValueChange(t))),this.$range2.on("input",(t=>this.handleComponentValueChange(t)))}handleComponentValueChange({target:t}){const e=i()(t),s=Number(t.value);let{valueLeft:n,valueRight:a}=this.getValues();this.isLeftValue(e)?n=s:a=s,this.setState(n,a),this.updateOutput()}updateOutput(){let{valueLeft:t,valueRight:e}=this.getValues();t>e&&([t,e]=[e,t]);const s=Math.round((this.max-this.min)*t/100+this.min),n=Math.round((this.max-this.min)*e/100+this.min);this.$output.html(`${(0,a.R3)(s,this.postfix)} - ${(0,a.R3)(n,this.postfix)}`)}isLeftValue(t){return t[0]===this.$range1[0]}getValues(){return{valueLeft:Number(this.$range1.attr(o)),valueRight:Number(this.$range2.attr(o))}}setState(t,e){r.setThumb(t,this.$range1,this.$thumb1),r.setThumb(e,this.$range2,this.$thumb2),this.setTrack(t,e)}static setThumb(t,e,s){e.attr(o,t),s.css("left",`${t}%`),s.css("transform",`translate(-${t}%, -50%)`)}setTrack(t,e){t>e?(this.$track.css("width",t-e+"%"),this.$track.css("left",`${e}%`)):(this.$track.css("width",e-t+"%"),this.$track.css("left",`${t}%`))}render(){this.init(),this.attachEventHandlers()}}const h=r;i()((()=>{i()(".js-range-slider").each(((t,e)=>{const s=i()(e);new h(s).render()}))}))},421:(t,e,s)=>{s.d(e,{Y:()=>n,l:()=>i});const n=".js-text-field__input",i="placeholder"},729:(t,e,s)=>{var n=s(755),i=s.n(n),a=s(462),o=s(421);i()((()=>{i()(o.Y).each(((t,e)=>{const s=i()(e),n=s.attr(o.l);new a.Z({$input:s,inputFormat:"dd.mm.yyyy",placeholder:n}).render()}))}))},563:(t,e,s)=>{s.d(e,{Z:()=>h});var n=s(755),i=s.n(n),a=s(808),o=s(255);class r{constructor(t){this.$component=t.$component,this.texts=t.texts,this.isSplit=t.isSplit,this.triggerValueChanged=t.triggerValueChanged,this.onAcceptButtonClick=t.onAcceptButtonClick,this.DATE_FROM=t.DATE_FROM,this.DATE_TO=t.DATE_TO;const{range:e,altField:s,$content:n}=t,i=this.createAirOptions({range:e,altField:s}),o=new a.Z(n[0],i);return this.$clear=r.findClearButton(o),this.updateClearButtonVisibility(o),r.fixButtonsType(o),o}createAirOptions(t){return{...t,inline:!0,locale:o.Z,altFieldDateFormat:"d MMM",prevHtml:"",nextHtml:"",multipleDatesSeparator:" - ",dateFormat:"d MMM",moveToOtherMonthsOnSelect:!1,navTitles:{days:"MMMM yyyy"},onSelect:t=>this.onCellSelect(t),buttons:[{content:"очистить",className:"clear",onClick:t=>this.onClearCalendarClick(t)},{content:"применить",className:"accept",onClick:()=>this.onAcceptButtonClick()}]}}setState(t,e){this.setTexts(t,e),this.setValues(t,e)}setValues(t,e){const s=r.dateToString(t),n=r.dateToString(e);this.$component.attr(this.DATE_FROM,s),this.$component.attr(this.DATE_TO,n)}setTexts(t,e){if(!this.isSplit)return;const s=r.dateToString(t,"ru"),n=r.dateToString(e,"ru");i()(this.texts[0]).val(s),i()(this.texts[1]).val(n)}onCellSelect({date:t,datepicker:e}){const[s,n]=e.selectedDates,i=1===e.selectedDates.length,a=2===e.selectedDates.length;i?(r.fixFocusDisplay(t,e),this.setState(s,"")):a&&this.setState(s,n),this.update(e)}onClearCalendarClick(t){t.clear(),this.isSplit&&i()(this.texts[1]).val("")}update(t){this.updateClearButtonVisibility(t),this.triggerValueChanged()}updateClearButtonVisibility(t){0!==t.selectedDates.length?this.$clear.show():this.$clear.hide()}static findClearButton(t){const e=i()("button",t.$buttons);return i()(e[0])}static fixButtonsType(t){i()("button",t.$buttons).attr("type","button")}static fixFocusDisplay(t,e){const s=`.air-datepicker-cell[data-year=${t.getFullYear()}][data-month=${t.getMonth()}][data-date=${t.getDate()}]`,n=i()(s,e.$datepicker);n.hasClass("-focus-")&&(n.addClass("-range-from-"),n.addClass("-range-to-"))}static dateToString(t,e="en"){return"string"==typeof t?t:t.toLocaleDateString(e)}}const h=r},255:(t,e,s)=>{s.d(e,{Z:()=>n});const n={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1}},462:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(382),i=s.n(n);const a=class{constructor({$input:t,inputFormat:e,placeholder:s}){const n={alias:"datetime",inputFormat:e,placeholder:s};this.outsideInputmask=new(i())(n),this.$input=t}render(){this.outsideInputmask.mask(this.$input)}}},938:(t,e,s)=>{function n(t,e){if(t>10&&t<20)return e[2];switch(t%10){case 1:return e[0];case 2:case 3:case 4:return e[1];default:return e[2]}}function i(t,e="",s="ru"){return`${t.toLocaleString(s)}${e}`}s.d(e,{nK:()=>n,R3:()=>i})}}]);